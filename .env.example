# ===============================================
# CONFIGURACIÓN DE BASE DE DATOS
# ===============================================
DATABASE_URL=postgresql://usuario:password@localhost:5432/rca_crm
DB_HOST=localhost
DB_PORT=5432
DB_NAME=rca_crm
DB_USER=postgres
DB_PASSWORD=postgres

# ===============================================
# CONFIGURACIÓN DEL SERVIDOR
# ===============================================
NODE_ENV=development
PORT=3000
API_URL=http://localhost:3000

# ===============================================
# SEGURIDAD Y AUTENTICACIÓN
# ===============================================
JWT_SECRET=tu-secreto-super-seguro-cambiar-en-produccion
JWT_EXPIRATION=24h
BCRYPT_ROUNDS=10

# ===============================================
# WHATSAPP BUSINESS API (Meta Cloud API)
# ===============================================
# Obtener en: https://developers.facebook.com/
# Documentación: https://developers.facebook.com/docs/whatsapp/cloud-api
# META_APP_ID y META_APP_SECRET: mismos de tu App en Meta Developers (Usados también por meta-config)
META_APP_ID=tu-app-id
META_APP_SECRET=tu-app-secret
WHATSAPP_API_URL=https://graph.facebook.com
WHATSAPP_BUSINESS_ACCOUNT_ID=tu-whatsapp-business-id
WHATSAPP_PHONE_NUMBER_ID=tu-phone-number-id
WHATSAPP_ACCESS_TOKEN=tu-access-token-permanente
WHATSAPP_VERIFY_TOKEN=tu-token-de-verificacion
WHATSAPP_API_VERSION=v18.0

# ===============================================
# FACEBOOK MESSENGER API
# ===============================================
# Obtener en: https://developers.facebook.com/apps/
# Documentación: https://developers.facebook.com/docs/messenger-platform
# Webhook (desarrollo): cloudflared tunnel --url http://localhost:3001
#   IMPORTANTE: El túnel debe apuntar al Backend (3001), NO al Frontend (3000)
#   Callback URL: https://TU-URL.trycloudflare.com/api/matrix/webhooks/facebook
#   Token de verificación: este valor (cópialo exacto en Meta)
# Ver docs/CONFIGURACION_WEBHOOK_FACEBOOK.md y docs/META_APPS_URLS.md
# META_OAUTH_REDIRECT_BASE: URL base pública del backend (ngrok). Sin barra final.
#   Valid OAuth Redirect URIs en Meta: https://TU-URL/api/auth/facebook/callback
#   Ejemplo ngrok: https://unoffered-overstrongly-fermin.ngrok-free.dev
META_OAUTH_REDIRECT_BASE=https://unoffered-overstrongly-fermin.ngrok-free.dev
# FRONTEND_URL: URL del frontend para enlaces "Volver al Matrix" tras OAuth (opcional)
FRONTEND_URL=http://localhost:3000
FACEBOOK_API_URL=https://graph.facebook.com
FACEBOOK_PAGE_ID=tu-facebook-page-id
FACEBOOK_PAGE_ACCESS_TOKEN=tu-facebook-page-token
FACEBOOK_VERIFY_TOKEN=rca-fb-verify-8f3a2c9e1d4b7f6e5a0c8d2b1e9f4a7c
FACEBOOK_API_VERSION=v18.0

# ===============================================
# INSTAGRAM DIRECT API
# ===============================================
# Obtener en: https://developers.facebook.com/apps/
# Documentación: https://developers.facebook.com/docs/instagram-api
# Si la cuenta IG está vinculada a la Página, FACEBOOK_PAGE_ACCESS_TOKEN sirve para ambos.
INSTAGRAM_API_URL=https://graph.facebook.com
INSTAGRAM_BUSINESS_ACCOUNT_ID=tu-instagram-business-id
INSTAGRAM_PAGE_ACCESS_TOKEN=tu-instagram-page-token
# Puede ser el mismo que FACEBOOK_VERIFY_TOKEN
INSTAGRAM_VERIFY_TOKEN=rca-fb-verify-8f3a2c9e1d4b7f6e5a0c8d2b1e9f4a7c
INSTAGRAM_API_VERSION=v18.0

# ===============================================
# WEBSOCKET SERVER (Socket.io)
# ===============================================
WEBSOCKET_PORT=3001
WEBSOCKET_CORS_ORIGIN=http://localhost:3000

# ===============================================
# CONFIGURACIÓN DE CORREO (Opcional)
# ===============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=tu-email@gmail.com
SMTP_PASSWORD=tu-app-password
EMAIL_FROM=noreply@redclinicas.com

# ===============================================
# ZONAS HORARIAS Y UBICACIÓN
# ===============================================
DEFAULT_TIMEZONE=America/Mexico_City
DEFAULT_LOCALE=es-MX

# ===============================================
# ARCHIVOS Y ALMACENAMIENTO
# ===============================================
UPLOAD_DIR=./uploads
PDF_OUTPUT_DIR=./uploads/recibos
MAX_FILE_SIZE=5242880

# ===============================================
# LOGS Y MONITOREO
# ===============================================
LOG_LEVEL=info
LOG_FILE=./logs/app.log

# ===============================================
# CORS Y SEGURIDAD
# ===============================================
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
ALLOWED_ORIGINS=http://localhost:3000

# ===============================================
# CONFIGURACIÓN DE SUCURSALES
# ===============================================
# Puedes agregar configuraciones específicas por sucursal aquí
SUCURSAL_PRINCIPAL_ID=suc-001
